var footer=function(){"use strict";return{$el:null,init:function(){this.$el=$("footer"),this.$el.find("span").html((new Date).getFullYear())}}}();!function(){"use strict";function t(){n=document.getElementById("starfieldAlpha"),o=n.getContext("2d"),s=document.getElementById("starfieldBeta"),h=s.getContext("2d"),window.removeEventListener("load",t,!1),n.width=window.innerWidth,n.height=window.innerHeight,s.width=window.innerWidth,s.height=window.innerHeight,r=new Starfield({canvas:n,context:o}),l=new Starfield({canvas:s,context:h,radiusSeed:2}),sections.init(),title.init(),nav.init(),footer.init(),$(window).bind("resize",i),$(document).bind("mousemove",e),jQuery.easing.smoothmove=function(t,i,e,n,o){return-n*(i/=o)*(i-2)+e}}function i(){clearTimeout(a),a=setTimeout(function(){n.width=window.innerWidth,n.height=window.innerHeight,s.width=window.innerWidth,s.height=window.innerHeight,n.style.left=0,n.style.top=0,s.style.left=0,s.style.top=0,o.clearRect(0,0,n.width,n.height),h.clearRect(0,0,s.width,s.height),sections.resize(),title.resize(),r.resize(),l.resize()},256)}function e(t){$(n).animate({left:(t.pageX-n.width/2)*-.06,top:(t.pageY-n.height/2)*-.06},{queue:!1,duration:512,easing:"smoothmove"}),$(s).animate({left:(t.pageX-s.width/2)*-.03,top:(t.pageY-s.height/2)*-.03},{queue:!1,duration:512,easing:"smoothmove"})}var n,o,s,h,r,l,a;$(document).ready(t)}();var nav=function(){"use strict";return{$links:null,scrollTimer:null,pageSelector:"section",scrollOffset:64,init:function(){this.$links=$("nav li"),this.$links.bind("click",this.onLinkClick.bind(this)),$(window).bind("scroll",this.onPageScroll.bind(this)),document.location.hash&&this.follow(document.location.hash.replace("#",""))},onLinkClick:function(t){this.follow($(t.target).html())},onPageScroll:function(){var t=this;clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(function(){var i,e,n=$("html body").scrollTop();$(t.pageSelector).each(function(){return i=$(this),e=i.attr("id"),n>i.offset().top-t.scrollOffset&&n<i.offset().top+t.scrollOffset?void(document.location.hash.replace("#","")!=e&&t.follow(e)):void 0})},256)},follow:function(t){$("html body").stop().animate({scrollTop:$("#"+t).offset().top},function(){document.location.hash=t})}}}(),sections=function(){"use strict";return{$win:null,$sections:null,minHeight:null,init:function(){this.$win=$(window),this.$sections=$("section"),this.minHeight=this.$sections.css("minHeight"),this.resize()},resize:function(){this.$sections.css("minHeight",this.$win.height()<=this.minHeight?this.minHeight:this.$win.height()+"px")}}}(),Star=function(){"use strict";var t=function(t){this.randColorRange=65,this.useGradient=!0,this.x=0,this.y=0,this.radius=8,this.opacity=1,this.color=null,this.context=null;for(var i in t)this[i]=t[i];this.color||(this.color=this.getFill())};return t.prototype.getFill=function(){var t,i=this.getRandRGB(),e=this.getRandRGB(),n=this.getRandRGB();return this.radius>1&&this.useGradient?(t=this.context.createRadialGradient(this.x,this.y,1,this.x,this.y,this.radius),t.addColorStop(0,"rgba("+[i,e,n,this.opacity].join(",")+")"),t.addColorStop(1,"rgba("+[i,e,n,0].join(",")+")"),t):"rgba("+[i,e,n,this.opacity].join(",")+")"},t.prototype.getRandRGB=function(){return Math.round(Math.random()*this.randColorRange)+255-this.randColorRange},t}(),Starfield=function(){"use strict";var t=function(t){this.radiusSeed=3,this.field=[],this.starCount=null,this.vpWidth=null,this.vpHeight=null,this.canvas=null,this.context=null;for(var i in t)this[i]=t[i];this.vpWidth=window.innerWidth,this.vpHeight=window.innerHeight,this.resize()};return t.prototype.resize=function(){this.vpWidth=window.innerWidth,this.vpHeight=window.innerHeight,this.starCount=this.vpWidth/4,this.field=[],this.populateEntities(),this.render()},t.prototype.populateEntities=function(){for(var t,i,e,n,o=0;o<this.starCount;o+=1)t=Math.round(Math.random()*this.radiusSeed),i=Math.round(Math.random()*this.vpWidth),e=Math.round(Math.random()*this.vpHeight),n=.5+Math.round(100*(Math.random()-.5))/100,this.field.push(new Star({x:i,y:e,radius:t,opacity:n,context:this.context}))},t.prototype.render=function(){for(var t,i=0;i<this.field.length;i+=1)t=this.field[i],this.context.fillStyle=t.color,this.context.beginPath(),this.context.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),this.context.closePath(),this.context.fill()},t}(),title=function(){"use strict";return{$el:null,$win:null,init:function(){this.$win=$(window),this.$el=$("#title").css("position","absolute"),this.resize(),this.show()},show:function(){this.$el.css({opacity:0,visibility:"visible",top:parseInt(this.$el.css("top"),10)+32+"px"}).animate({opacity:1,top:"-=32"},1e3)},resize:function(){this.$el.css({left:this.$win.width()/2-this.$el.width()/2+"px",top:this.$win.height()/2-this.$el.height()/2+"px"})}}}();