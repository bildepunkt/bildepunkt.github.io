!function(){function t(){var e;i=document.getElementById("galaxy"),o=i.getContext("2d"),window.removeEventListener("load",t,!1),i.width=window.innerWidth,i.height=window.innerHeight,stars.init({canvasId:"galaxy",fieldCount:3}),title.init("title"),$(window).bind("resize",function(){clearTimeout(e),e=setTimeout(n,256)})}function n(){i.width=window.innerWidth,i.height=window.innerHeight,o.clearRect(0,0,i.width,i.height),title.resize(),stars.resize()}var i,o;$(document).ready(t)}();var nav=function(){var t,n,i,o,e=function(){o=$("#home"),t=$("nav #trigger"),n=$("nav #links"),i=$(".link"),t.bind("click",r),i.bind("click",d),$(window).bind("hashchange",a),document.location.hash?h(document.location.hash.replace("#","")):o.fadeIn(1e3)},a=function(){h(document.location.hash.replace("#",""))},r=function(){t.stop().fadeOut(),n.stop().fadeIn()},d=function(){h($(this).html()),t.stop().fadeIn(),n.stop().fadeOut()},h=function(t){var n=$("#"+t);document.location.hash=t,o.stop().fadeOut(),n.stop().fadeIn(),o=n};return{init:e}}(),stars=function(){var t,n,i,o,e,a=[],r=function(r){var h=1;t=r,n=window.innerWidth,i=window.innerHeight,o=document.getElementById(t.canvasId),e=o.getContext("2d");for(var c=0;c<t.fieldCount;c+=1)a.push({type:"stars",count:Math.round((t.fieldCount-c)*n/8),radius:c+1,factor:h++,entities:[]});d()},d=function(){var o,e,r;for(n=window.innerWidth,i=window.innerHeight,e=0,r=a.length;r>e;e+=1)o=a[e],o.count=Math.round((t.fieldCount-e)*n/8),o.entities=[],h(o);c()},h=function(t){for(var o,e,a,r,d=0;d<t.count;d+=1)o=Math.round(Math.random()*t.radius),e=Math.round(Math.random()*n),a=Math.round(Math.random()*i),r=.5+(Math.random()-.5),t.entities.push({x:e,y:a,radius:o,opacity:r,color:u(e,a,r,o)})},c=function(){for(var t,n,i=0,o=a.length;o>i;i+=1){t=a[i];for(var r=0;r<t.entities.length;r+=1)n=t.entities[r],e.fillStyle=n.color,e.beginPath(),e.arc(n.x,n.y,n.radius,0,2*Math.PI,!1),e.closePath(),e.fill()}},u=function(t,n,i,o){var a,r=Math.round(65*Math.random())+190,d=Math.round(65*Math.random())+190,h=Math.round(65*Math.random())+190;return o>1?(a=e.createRadialGradient(t,n,1,t,n,o),a.addColorStop(0,"rgba("+[r,d,h,i].join(",")+")"),a.addColorStop(1,"rgba("+[r,d,h,0].join(",")+")"),a):"rgba("+[r,d,h,i].join(",")+")"};return{init:r,resize:d}}(),title=function(){var t,n,i=function(i){n=$(window),t=$("#"+i).css("position","absolute"),e(),o()},o=function(){t.css({opacity:0,visibility:"visible",top:parseInt(t.css("top"),10)+32+"px"}).animate({opacity:1,top:"-=32"},1e3)},e=function(){t.css({left:n.width()/2-t.width()/2+"px",top:n.height()/2-t.height()/2+"px"})};return{init:i,resize:e}}();