var footer=function(){"use strict";return{$el:null,init:function(){this.$el=$("footer"),this.$el.find("span").html((new Date).getFullYear())}}}();!function(){"use strict";function t(){e=document.getElementById("starfieldAlpha"),o=e.getContext("2d"),s=document.getElementById("starfieldBeta"),h=s.getContext("2d"),window.removeEventListener("load",t,!1),e.width=window.innerWidth,e.height=window.innerHeight,s.width=window.innerWidth,s.height=window.innerHeight,r=new Starfield({canvas:e,context:o}),a=new Starfield({canvas:s,context:h,radiusSeed:2}),sections.init(),title.init(),nav.init(),footer.init(),$(window).bind("resize",i),$(document).bind("mousemove",n),jQuery.easing.smoothmove=function(t,i,n,e,o){return-e*(i/=o)*(i-2)+n}}function i(){clearTimeout(l),l=setTimeout(function(){e.width=window.innerWidth,e.height=window.innerHeight,s.width=window.innerWidth,s.height=window.innerHeight,e.style.left=0,e.style.top=0,s.style.left=0,s.style.top=0,o.clearRect(0,0,e.width,e.height),h.clearRect(0,0,s.width,s.height),sections.resize(),title.resize(),r.resize(),a.resize()},256)}function n(t){$(e).animate({left:(t.pageX-e.width/2)*-.06,top:(t.pageY-e.height/2)*-.06},{queue:!1,duration:512,easing:"smoothmove"}),$(s).animate({left:(t.pageX-s.width/2)*-.03,top:(t.pageY-s.height/2)*-.03},{queue:!1,duration:512,easing:"smoothmove"})}var e,o,s,h,r,a,l;$(document).ready(t)}();var nav=function(){"use strict";return{$links:null,scrollTimer:null,pageSelector:"section",init:function(){this.$links=$("nav li"),this.$links.bind("click",this.onLinkClick.bind(this)),$(window).bind("scroll",this.onPageScroll.bind(this)),document.location.hash&&this.goto(document.location.hash.replace("#",""))},onLinkClick:function(t){this.goto($(t.target).attr("id").replace("link-",""))},onPageScroll:function(){var t=this;clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(function(){var i,n,e=$("html body").scrollTop();$(t.pageSelector).each(function(){i=$(this),n=i.attr("id").replace("goto-",""),e>=i.offset().top-.5*i.height()&&e<i.offset().top+.5*i.height()&&t.setLocation(n)})},256)},"goto":function(t,i){var n=this;i?this.setLocation(t):$("html body").stop().animate({scrollTop:$("#goto-"+t).offset().top},function(){n.setLocation(t)})},setLocation:function(t){var i,n,e=$("#goto-"+t).find(".reload-on-nav");t!=document.location.hash.replace("#","")&&e.each(function(){i=$(this),n=i.html(),i.html(""),i.html(n)}),document.location.hash=t}}}(),sections=function(){"use strict";return{$win:null,$sections:null,minHeight:null,init:function(){this.$win=$(window),this.$sections=$("section"),this.minHeight=this.$sections.css("minHeight"),this.resize()},resize:function(){this.$sections.css("minHeight",this.$win.height()<=this.minHeight?this.minHeight:this.$win.height()+"px")}}}(),Star=function(){"use strict";var t=function(t){this.randColorRange=65,this.useGradient=!0,this.x=0,this.y=0,this.radius=8,this.opacity=1,this.color=null,this.context=null;for(var i in t)this[i]=t[i];this.color||(this.color=this.getFill())};return t.prototype.getFill=function(){var t,i=this.getRandRGB(),n=this.getRandRGB(),e=this.getRandRGB();return this.radius>1&&this.useGradient?(t=this.context.createRadialGradient(this.x,this.y,1,this.x,this.y,this.radius),t.addColorStop(0,"rgba("+[i,n,e,this.opacity].join(",")+")"),t.addColorStop(1,"rgba("+[i,n,e,0].join(",")+")"),t):"rgba("+[i,n,e,this.opacity].join(",")+")"},t.prototype.getRandRGB=function(){return Math.round(Math.random()*this.randColorRange)+255-this.randColorRange},t}(),Starfield=function(){"use strict";var t=function(t){this.radiusSeed=3,this.field=[],this.starCount=null,this.vpWidth=null,this.vpHeight=null,this.canvas=null,this.context=null;for(var i in t)this[i]=t[i];this.vpWidth=window.innerWidth,this.vpHeight=window.innerHeight,this.resize()};return t.prototype.resize=function(){this.vpWidth=window.innerWidth,this.vpHeight=window.innerHeight,this.starCount=this.vpWidth/4,this.field=[],this.populateEntities(),this.render()},t.prototype.populateEntities=function(){for(var t,i,n,e,o=0;o<this.starCount;o+=1)t=Math.round(Math.random()*this.radiusSeed),i=Math.round(Math.random()*this.vpWidth),n=Math.round(Math.random()*this.vpHeight),e=.5+Math.round(100*(Math.random()-.5))/100,this.field.push(new Star({x:i,y:n,radius:t,opacity:e,context:this.context}))},t.prototype.render=function(){for(var t,i=0;i<this.field.length;i+=1)t=this.field[i],this.context.fillStyle=t.color,this.context.beginPath(),this.context.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),this.context.closePath(),this.context.fill()},t}(),title=function(){"use strict";return{$el:null,$win:null,init:function(){this.$win=$(window),this.$el=$("#title").css("position","absolute"),this.resize(),this.show()},show:function(){this.$el.css({opacity:0,visibility:"visible",top:parseInt(this.$el.css("top"),10)+32+"px"}).animate({opacity:1,top:"-=32"},1e3)},resize:function(){this.$el.css({left:this.$win.width()/2-this.$el.width()/2+"px",top:this.$win.height()/2-this.$el.height()/2+"px"})}}}();